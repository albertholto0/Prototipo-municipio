<header>
    <!-- Parte izquierda: Logo y título -->
    <div class="header-left">
        <div class="logo-left">
            <a href="/public/Inicio/pantallaPrincipal.html">
                <img src="/public/Assets/logo_ixtlan.png" alt="Logo Ixtlán">
            </a>
        </div>
        <div class="title">
            <h1>SISTEMA DE COBROS MUNICIPAL</h1>
        </div>
    </div>

    <!-- Menú de navegación (NavBar) -->
    <nav class="menu-buttons">
        <button onclick="location.href='/public/Cobrar/cobrar.html'">Cobrar</button>
        <button onclick="location.href='/public/CorteDeCaja/CorteDeCaja.html'">Corte de Caja</button>
        <button
            onclick="location.href='/public/GestionContribuyentes/gestion_contribuyentes.html'">Contribuyentes</button>
        <button onclick="location.href='/public/Catalogos/menu-catalogos.html'">Catálogos</button>
        <span class="user-icon" id="userIcon">
            <img src="/public/Assets/FotosPerfilUsuarios/default.png" alt="Usuario" id="userImage">
            <div class="user-dropdown" id="userDropdown">
                <button id="userInfoBtn">Información del usuario</button>
                <button id="settingsBtn">Editar perfil</button>
                <button id="logoutBtn">Cerrar sesión</button>
            </div>
        </span>
    </nav>

    <div id="navUserInfoModal" class="nav-user-modal">
        <div class="nav-user-modal-container">
            <div class="nav-user-modal-content">
                <h3 class="nav-user-modal-title">Información del Usuario</h3>
                <div class="nav-user-modal-flex">
                    <div class="nav-user-modal-info">
                        <p><strong>Nombre:</strong></p>
                        <p><span id="navInfoUserName"></span></p>
                        <p><strong>Usuario:</strong> <span id="navInfoUserUsername"></span></p>
                        <p><strong>Rol:</strong> <span id="navInfoUserRole"></span></p>
                        <p><strong>Último acceso:</strong></p>
                        <p><span id="navInfoUserLastAccess"></span></p>
                        <p><strong>Estado:</strong> <span id="navInfoUserStatus"></span></p>
                    </div>
                    <div class="nav-user-modal-photo">
                        <img id="navInfoUserPhoto" src="/public/Assets/FotosPerfilUsuarios/default.png"
                            alt="Foto de perfil">
                    </div>
                </div>
                <button class="nav-user-modal-close"
                    onclick="document.getElementById('navUserInfoModal').style.display='none'">Cerrar</button>
            </div>
        </div>
    </div>
    <!--Modal para la configuracion del usuario-->
    <div id="navUserConfModal" class="nav-user-modal">
    <div class="nav-user-modal-container">
        <div class="nav-user-modal-content">
            <h3 class="nav-user-modal-title">Configuración del Usuario</h3>
            
            <!-- Paso 1: Verificación de contraseña -->
            <div id="passwordVerificationStep">
                <p>Por seguridad, ingresa tu contraseña actual para continuar:</p>
                <input type="password" id="currentPassword" placeholder="Contraseña actual" required>
                <button type="button" id="navVerifyPasswordBtn" class="btn-add">Verificar</button>
                <button id="nav-user-modal-close" onclick="document.getElementById('navUserConfModal').style.display='none'">Cancelar</button>
                <p id="passwordError" class="error-message" style="color: red; display: none;">Contraseña incorrecta</p>
            </div>
            
            <!-- Paso 2: Formulario de edición (inicialmente oculto) -->
            <form id="navUserConfForm" style="display: none;">
                <label for="navUserConfName">Nombres:</label>
                <input type="text" id="navUserConfName" name="name" required>

                <label for="navUserConfLastName">Apellido Paterno:</label>
                <input type="text" id="navUserConfLastName" name="lastName" required>

                <label for="navUserConfSecondLastName">Apellido Materno:</label>
                <input type="text" id="navUserConfSecondLastName" name="secondLastName" required>
                
                <label for="navUserConfUsername">Usuario:</label>
                <input type="text" id="navUserConfUsername" name="username" required>
                
                <label for="navUserConfNewPassword">Nueva contraseña (opcional):</label>
                <input type="password" id="navUserConfNewPassword" name="newPassword" placeholder="Dejar vacío para no cambiar">
                
                <div class="form-actions">
                    <button type="submit" class="btn-add">Guardar Cambios</button>
                    <button type="button" class="btn-cancel" onclick="document.getElementById('navUserConfModal').style.display='none'">Cancelar</button>
                </div>
            </form>
        </div>
    </div>
</div>
</header>