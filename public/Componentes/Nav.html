<header>
  <!-- Parte izquierda: Logo y título -->
  <div class="header-left">
    <div class="logo-left">
      <a href="/public/Inicio/pantallaPrincipal.html">
        <img src="/public/Assets/logo_ixtlan.png" alt="Logo Ixtlán" />
      </a>
    </div>
    <div class="title">
      <h1>SISTEMA DE COBROS MUNICIPAL</h1>
    </div>
  </div>

  <!-- Menú de navegación (NavBar) -->
  <nav class="menu-buttons">
    <button onclick="location.href='/public/Cobrar/cobrar.html'">Cobrar</button>
    <button onclick="location.href='/public/CorteDeCaja/CorteDeCaja.html'">
      Corte de Caja
    </button>
    <button
      onclick="location.href='/public/GestionContribuyentes/gestion_contribuyentes.html'"
    >
      Contribuyentes
    </button>
    <button onclick="location.href='/public/Catalogos/menu-catalogos.html'">
      Catálogos
    </button>
    <span class="user-icon" id="userIcon">
      <img
        src="/public/Assets/usuario.png"
        alt="Usuario"
        style="width: 32px; height: 32px; border-radius: 50%"
      />
      <div class="user-dropdown" id="userDropdown" style="display: none">
        <button id="userInfoBtn">Información del usuario</button>
        <button id="settingsBtn">Editar perfil</button>
        <button id="logoutBtn">Cerrar sesión</button>
      </div>
    </span>
  </nav>
  <!-- Menú de navegación (NavBar) -->
  <nav class="menu-buttons">
    <button onclick="location.href='/public/Cobrar/cobrar.html'">Cobrar</button>
    <button onclick="location.href='/public/CorteDeCaja/CorteDeCaja.html'">
      Corte de Caja
    </button>
    <button
      onclick="location.href='/public/GestionContribuyentes/gestion_contribuyentes.html'"
    >
      Contribuyentes
    </button>
    <button onclick="location.href='/public/Catalogos/menu-catalogos.html'">
      Catálogos
    </button>
    <span class="user-icon" id="userIcon">
      <img
        src="/public/Assets/FotosPerfilUsuarios/default.png"
        alt="Usuario"
        id="userImage"
      />
      <div class="user-dropdown" id="userDropdown">
        <button id="userInfoBtn">Información del usuario</button>
        <button id="settingsBtn">Editar perfil</button>
        <button id="logoutBtn">Cerrar sesión</button>
      </div>
    </span>
  </nav>

  <div id="navUserInfoModal" class="nav-user-modal">
    <div class="nav-user-modal-container">
      <div class="nav-user-modal-content">
        <h3 class="nav-user-modal-title">Información del Usuario</h3>
        <div class="nav-user-modal-flex">
          <div class="nav-user-modal-info">
            <p><strong>Nombre:</strong></p>
            <p><span id="navInfoUserName"></span></p>
            <p>
              <strong>Usuario:</strong> <span id="navInfoUserUsername"></span>
            </p>
            <p><strong>Rol:</strong> <span id="navInfoUserRole"></span></p>
            <p><strong>Último acceso:</strong></p>
            <p><span id="navInfoUserLastAccess"></span></p>
            <p><strong>Estado:</strong> <span id="navInfoUserStatus"></span></p>
          </div>
          <div class="nav-user-modal-photo">
            <img
              id="navInfoUserPhoto"
              src="/public/Assets/FotosPerfilUsuarios/default.png"
              alt="Foto de perfil"
            />
          </div>
        </div>
        <button
          class="nav-user-modal-close"
          onclick="document.getElementById('navUserInfoModal').style.display='none'"
        >
          Cerrar
        </button>
      </div>
    </div>
  </div>
  <!--Modal para la configuracion del usuario-->
  <div id="navUserConfModal" class="nav-config-modal">
    <div class="nav-config-modal-container">
      <div class="nav-config-modal-content">
        <h3 class="nav-config-modal-title">Configuración del Usuario</h3>

        <!-- Paso 1: Verificación de contraseña -->
        <div id="passwordVerificationStep" class="nav-config-step">
          <p class="nav-config-instruction">
            Por seguridad, ingresa tu contraseña actual para continuar:
          </p>
          <input
            type="password"
            id="currentPassword"
            class="nav-config-input"
            placeholder="Contraseña actual"
            required
          />
          <div class="nav-config-button-group">
            <button
              type="button"
              id="navVerifyPasswordBtn"
              class="nav-config-btn nav-config-btn-primary"
            >
              Verificar
            </button>
            <button
              type="button"
              class="nav-config-btn nav-config-btn-secondary"
              onclick="document.getElementById('navUserConfModal').style.display='none'"
            >
              Cancelar
            </button>
          </div>
          <p id="passwordError" class="nav-config-error">
            Contraseña incorrecta
          </p>
        </div>

        <!-- Paso 2: Formulario de edición -->
        <form
          id="navUserConfForm"
          class="nav-config-form"
          style="display: none"
        >
          <div class="nav-config-form-group">
            <label for="navUserConfName" class="nav-config-label"
              >Nombres:</label
            >
            <input
              type="text"
              id="navUserConfName"
              class="nav-config-input"
              name="name"
              required
            />
          </div>

          <div class="nav-config-form-group">
            <label for="navUserConfLastName" class="nav-config-label"
              >Apellido Paterno:</label
            >
            <input
              type="text"
              id="navUserConfLastName"
              class="nav-config-input"
              name="lastName"
              required
            />
          </div>

          <div class="nav-config-form-group">
            <label for="navUserConfSecondLastName" class="nav-config-label"
              >Apellido Materno:</label
            >
            <input
              type="text"
              id="navUserConfSecondLastName"
              class="nav-config-input"
              name="secondLastName"
              required
            />
          </div>

          <div class="nav-config-form-group">
            <label for="navUserConfUsername" class="nav-config-label"
              >Usuario:</label
            >
            <input
              type="text"
              id="navUserConfUsername"
              class="nav-config-input"
              name="username"
              required
            />
          </div>

          <div class="nav-config-form-group">
            <label for="navUserConfNewPassword" class="nav-config-label"
              >Nueva contraseña (opcional):</label
            >
            <input
              type="password"
              id="navUserConfNewPassword"
              class="nav-config-input"
              name="newPassword"
              placeholder="Dejar vacío para no cambiar"
            />
          </div>

          <div class="nav-config-button-group">
            <button type="submit" class="nav-config-btn nav-config-btn-primary">
              Guardar Cambios
            </button>
            <button
              type="button"
              class="nav-config-btn nav-config-btn-secondary"
              onclick="document.getElementById('navUserConfModal').style.display='none'"
            >
              Cancelar
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</header>
